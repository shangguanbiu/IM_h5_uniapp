import{_ as t,n as e,c as s,aE as i,aF as a,a9 as l,g as o,aG as n,o as _,e as p,w as d,i as c,f as u,j as r,t as h,k as g,r as m,F as f,l as y,v as k,p as x,q as w,y as v}from"./index-7ddb419c.js";const C=t({data:()=>({pop_notice:!1,active:0,top_title:"影院",show_more:!1,loadingType:0,page:1,State:0,type_list:[],timer:{},list:[],type_list:[],State:"",index_get:99}),methods:{pop_ok(){e({url:"/pages/movie/kefu/kefu"})},jump(t){1==t?e({url:"/pages/movie/index/index"}):2==t?e({url:"/pages/movie/list/index"}):3==t?e({url:"/pages/movie/bet/bet"}):4==t?e({url:"/pages/kefu/kefu_index"}):5==t&&e({url:"/pages/mine/index"})},see_detail(t){s("movice_info",t),e({url:"/pages/movie/list/detial"})},async get_type_list(){const t=await this.$myRuquest({url:"/api/front/movie/getTypes",method:"POST",data:{page:1}});200==t.code&&(this.type_list=t.data.data)},onClose(){},onChange(t){},openMore(){this.show_more=!this.show_more},get_type(t,e){this.page=1,this.index_get=e,this.openMore(),""!==t?(this.State=t.id,this.top_title="影院-"+t.name):(this.State="",this.top_title="影院"),this.getList()},async getList(t){this.list=[];const e=await this.$myRuquest({method:"Post",url:"/api/front/movie/getMoreList",data:{page:this.page,pagesize:10,type_id:this.State}});200==e.code&&(this.list=e.data.list),t&&t()},async getmorelists(){if(0!==this.loadingType)return!1;this.loadingType=1,i(),this.page++;const t=await this.$myRuquest({method:"Post",url:"/api/front/movie/getMoreList",data:{page:this.page,pagesize:10,type_id:this.State}});if(200==t.code){if(t.data.list.length<1)return this.loadingType=2,void a();this.list=this.list.concat(t.data.list),this.loadingType=0,a()}}},onLoad(t){this.get_type_list(),this.getList(),l("movice_info"),this.show_more=!1;var e=document.getElementsByClassName("uni-page-head-hd")[0];e&&(e.style.display="none")},onShow(){window.scrollTo({top:0,behavior:"smooth"}),this.show_login=!1,o("token")},onPullDownRefresh(){this.page=1,this.list=[],this.getList().then((t=>n()))},onReachBottom(){null!==this.timer&&clearTimeout(this.timer),this.timer=setTimeout((()=>{this.getmorelists()}),1e3)}},[["render",function(t,e,s,i,a,l){const o=c,n=w("cu-custom"),C=v,T=w("Empty");return _(),p(o,null,{default:d((()=>[u(n,{bgColor:"bg-gradual-pink",isBack:!0},{content:d((()=>[r(h(a.top_title),1)])),right:d((()=>[u(o,{class:"cuIcon-more mr-10 f-16",onClick:l.openMore},null,8,["onClick"])])),_:1}),0!==a.list.length?(_(),p(o,{key:0,class:"list_are"},{default:d((()=>[(_(!0),g(f,null,m(a.list,((t,e)=>(_(),p(o,{class:"list_item",key:e,onClick:e=>l.see_detail(t)},{default:d((()=>[u(o,{class:"list_zi"},{default:d((()=>[u(o,{class:"list_img_are"},{default:d((()=>[u(C,{src:t.img,class:"list_zi_img",mode:"widthFix"},null,8,["src"])])),_:2},1024),u(o,{class:"list_foot"},{default:d((()=>[u(o,{class:"m_title"},{default:d((()=>[r(h(t.name),1)])),_:2},1024),u(o,{style:{display:"flex"}},{default:d((()=>[u(o,{class:"cuIcon-cardboardfill l_ft_r",style:{"font-size":"14px"}}),u(o,{class:"l_ft_r"},{default:d((()=>[r(h(t.view_count),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):(_(),p(T,{key:1,noDatatext:"暂无记录",textcolor:"#999"})),y(u(o,{class:"type_more"},{default:d((()=>[u(o,{style:{"padding-top":"50px"}},{default:d((()=>[u(o,{class:"type_tit"},{default:d((()=>[r("热门分类")])),_:1}),u(o,{class:x(["type_zi",{type_get:99==a.index_get}]),onClick:e[0]||(e[0]=t=>l.get_type("",99))},{default:d((()=>[r(" 全部 ")])),_:1},8,["class"]),(_(!0),g(f,null,m(a.type_list,((t,e)=>(_(),p(o,{class:x(["type_zi",{type_get:a.index_get==e}]),key:e,onClick:s=>l.get_type(t,e)},{default:d((()=>[r(h(t.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),u(o,{class:"type_close",onClick:e[1]||(e[1]=t=>a.show_more=!1)},{default:d((()=>[r("关闭")])),_:1})])),_:1},512),[[k,a.show_more]]),y(u(o,null,{default:d((()=>[u(o,{class:"com_bg"}),u(o,{class:"com_main"},{default:d((()=>[u(o,{class:"pop_mian"},{default:d((()=>[u(o,{class:"pop_title"},{default:d((()=>[r("提示")])),_:1}),u(o,{style:{padding:"10px 15px",display:"flex","justify-content":"flex-start","line-height":"25px","flex-wrap":"wrap"}},{default:d((()=>[r(" 您当前可观看浏览视频数量已达到每日限制，观看更多可开通会员，请联系客服 ")])),_:1}),u(o,{class:"pop_foot"},{default:d((()=>[u(o,{class:"pop_ft_btn1",onClick:e[2]||(e[2]=t=>a.pop_notice=!1)},{default:d((()=>[r("关闭")])),_:1}),u(o,{class:"pop_ft_btn2",onClick:e[3]||(e[3]=t=>l.pop_ok())},{default:d((()=>[r("去升级")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512),[[k,a.pop_notice]])])),_:1})}],["__scopeId","data-v-90dfc082"]]);export{C as default};
