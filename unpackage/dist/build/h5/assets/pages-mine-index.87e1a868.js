import{_ as e,u as t,s as a,a as s,b as l,g as n,$ as i,n as c,d as o,aa as u,K as r,o as d,e as f,w as g,i as _,f as p,j as m,t as h,q as v,C as x,k,r as b,F as y,l as C,v as I,x as $,z as w,y as S,Q as N,m as j}from"./index-7b243064.js";import{s as O}from"./scan.818e529d.js";const J=""+new URL("vip_me-3501a8ec.png",import.meta.url).href,L=t(a),P=s(a),{unread:U,sysUnread:q}=l(L);const z=e({data:()=>({keyIndex:1,pop_notice:!1,hackReset:!1,loginStore:P,globalConfig:P.globalConfig,appSetting:P.appSetting,PageCur:"mine",navList:[],balance:"0.00",flow_data:{}}),onShow(){this.navList=[{name:"home",title:this.$t("nav.home"),notice:0},{name:"message",title:this.$t("nav.message"),notice:U},{name:"serve",title:this.$t("nav.serve"),notice:0},{name:"contacts",title:this.$t("nav.contacts"),notice:q},{name:"mine",title:this.$t("nav.mine"),notice:0}]},mounted(){n("allContacts").length||this.initContacts(),i("socketStatus",(e=>{e&&this.initContacts()}));var e=document.getElementsByClassName("uni-page-head-hd")[0];e&&(e.style.display="none"),this.get_userinfo()},methods:{async get_balance(){const e=await this.$myRuquest({url:"/api/front/user/getUserInfo",method:"POST"});200==e.code&&(this.flow_data=e.data,this.balance=e.data.balance)},async get_userinfo(){let e=JSON.parse(JSON.stringify(P.userInfo));const t=await this.$myRuquest({url:"/api/front/index/getImUserInfo",method:"POST",data:{user_id:e.user_id}});if(200==t.code){let e=JSON.parse(JSON.stringify(t.data));P.login(e),this.get_balance()}},to_like(e){let t=JSON.parse(JSON.stringify(P.userInfo));if(1==e){if(0==t.islevel&&0==t.role)return void(this.pop_notice=!0);c({url:"/pages/mine/like/like_me"})}else c({url:"/pages/mine/like/like"})},NavChange(e){"message"==e.name?c({url:"/pages/index/mv_index"}):"contacts"==e.name?o({url:"/pages/contacts/index"}):"compass"==e.name?c({url:"/pages/compass/index"}):"home"==e.name?o({url:"/pages/index/index"}):"serve"==e.name&&c({url:"/pages/movie/kefu/kefu"})},initContacts(){this.modelName="",this.$api.msgApi.initContacts().then((e=>{L.sysUnread=e.count,L.initContacts(e.data)}))},logout(){let e=n("client_id");this.$api.LoginApi.logout({client_id:e}).then((e=>{0==e.code&&P.logout()})),u("allContacts"),u("ifLogin"),u("iffirst")},about(){if(this.globalConfig&&this.globalConfig.demon_mode){c({url:"/pages/mine/webview?src="+"https://im.raingad.com"})}else c({url:"/pages/mine/about"})},showSetting(){c({url:"/pages/mine/setting"})},showsecure(){c({url:"/pages/mine/secure"})},editInfo(){c({url:"/pages/mine/profile"})},editInfo_msg(){c({url:"/pages/mine/profile_msg"})},edit_renzheng(){null===this.flow_data.agent_account?c({url:"/pages/mine/renzheng"}):r({title:this.$t("usercenter.vip_p_pop_6"),icon:"none"})},scan(){O.scanQr()},openQr(){c({url:"/pages/index/qrcode"})},to_vip(){c({url:"/pages/mine/vip/vip"})}}},[["render",function(e,t,a,s,l,n){const i=$("cu-custom"),c=_,o=w,u=S,r=N;return d(),f(c,null,{default:g((()=>[p(i,{bgColor:"bg-gradual-pink",isBack:!1},{content:g((()=>[m(h(e.$t("usercenter.title")),1)])),_:1}),p(c,{class:"padding flex im-space-between im-align-items-center bg-white mb-10"},{default:g((()=>[p(c,{class:"flex justify-start bg-white",onClick:t[0]||(t[0]=e=>n.editInfo())},{default:g((()=>[p(c,{class:v(["cu-avatar lg mr-15",l.appSetting.circleAvatar?"round":"radius"]),style:x([{backgroundImage:"url("+l.loginStore.userInfo.avatar+")"}])},null,8,["class","style"]),p(c,{class:"im-flex im-justify-content-start im-columns"},{default:g((()=>[p(c,{class:"mb-5 f-18 mb-10 im-flex im-align-items-center"},{default:g((()=>[p(c,{class:"c-333"},{default:g((()=>[m(h(l.loginStore.userInfo.realname),1)])),_:1})])),_:1}),p(c,{class:"mb-10",style:{"text-decoration":"none",display:"flex","align-items":"center"}},{default:g((()=>[p(c,{class:"text-gray"}),m(h(l.loginStore.userInfo.account)+" ",1),p(c,{class:"text-pink",style:{"padding-left":"10px"}},{default:g((()=>[m(h(e.$t("mine.jifen"))+"ï¼š"+h(l.balance),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),p(c,{class:"vip_are_P",onClick:n.to_vip},{default:g((()=>[p(c,{class:"vip_are_m"},{default:g((()=>[p(c,{class:"vip_are_tit"},{default:g((()=>[m(h(e.$t("usercenter.vip_title")),1)])),_:1}),p(c,{class:"vip_are_p"},{default:g((()=>[m(h(e.$t("usercenter.vip_desc")),1)])),_:1})])),_:1}),p(o,{src:J,mode:"widthFix",style:{width:"100%","max-height":"100px"}})])),_:1},8,["onClick"]),p(c,{class:"cu-list menu"},{default:g((()=>[p(c,{class:"cu-item",onClick:t[1]||(t[1]=e=>n.edit_renzheng())},{default:g((()=>[p(c,{class:"content"},{default:g((()=>[p(u,{class:"cuIcon-vip text-pink"}),p(u,null,{default:g((()=>[m(h(e.$t("usercenter.l_nav6")),1)])),_:1})])),_:1}),p(c,{class:"action"},{default:g((()=>[p(u,{class:"text-grey cuIcon-right"})])),_:1})])),_:1}),p(c,{class:"cu-item",onClick:t[2]||(t[2]=e=>n.editInfo_msg())},{default:g((()=>[p(c,{class:"content"},{default:g((()=>[p(u,{class:"cuIcon-newsfill text-red"}),p(u,null,{default:g((()=>[m(h(e.$t("usercenter.l_nav5")),1)])),_:1})])),_:1}),p(c,{class:"action"},{default:g((()=>[p(u,{class:"text-grey cuIcon-right"})])),_:1})])),_:1}),p(c,{class:"cu-item",onClick:t[3]||(t[3]=e=>n.to_like(1))},{default:g((()=>[p(c,{class:"content"},{default:g((()=>[p(u,{class:"cuIcon-likefill text-red"}),p(u,null,{default:g((()=>[m(h(e.$t("usercenter.l_nav1")),1)])),_:1})])),_:1}),p(c,{class:"action"},{default:g((()=>[p(u,{class:"text-grey cuIcon-right"})])),_:1})])),_:1}),p(c,{class:"cu-item",onClick:t[4]||(t[4]=e=>n.to_like(2))},{default:g((()=>[p(c,{class:"content"},{default:g((()=>[p(u,{class:"cuIcon-emojiflashfill text-pink"}),p(u,null,{default:g((()=>[m(h(e.$t("usercenter.l_nav2")),1)])),_:1})])),_:1}),p(c,{class:"action"},{default:g((()=>[p(u,{class:"text-grey cuIcon-right"})])),_:1})])),_:1}),p(c,{class:"cu-item",onClick:n.showSetting},{default:g((()=>[p(c,{class:"content"},{default:g((()=>[p(u,{class:"cuIcon-settings text-grey"}),p(u,null,{default:g((()=>[m(h(e.$t("usercenter.l_nav3")),1)])),_:1})])),_:1}),p(c,{class:"action"},{default:g((()=>[p(u,{class:"text-grey cuIcon-right"})])),_:1})])),_:1},8,["onClick"]),p(c,{class:"cu-item",onClick:n.showsecure},{default:g((()=>[p(c,{class:"content"},{default:g((()=>[p(u,{class:"cuIcon-safe text-orange"}),p(u,null,{default:g((()=>[m(h(e.$t("usercenter.l_nav4")),1)])),_:1})])),_:1}),p(c,{class:"action"},{default:g((()=>[p(u,{class:"text-grey cuIcon-right"})])),_:1})])),_:1},8,["onClick"])])),_:1}),p(c,{class:"padding flex flex-direction"},{default:g((()=>[p(r,{class:"cu-btn bg-red lg",onClick:t[5]||(t[5]=e=>n.logout())},{default:g((()=>[m(h(e.$t("usercenter.login_put")),1)])),_:1})])),_:1}),p(c,{class:"cu-bar tabbar bg-white shadow foot"},{default:g((()=>[(d(!0),k(y,null,b(l.navList,((e,t)=>(d(),f(c,{class:"action",onClick:t=>n.NavChange(e),key:t,"data-cur":"message"},{default:g((()=>[p(c,{class:"cuIcon-cu-image"},{default:g((()=>[p(o,{src:"/static/image/tabbar/"+[e.name]+[l.PageCur==e.name?"-active":""]+".svg"},null,8,["src"]),e.notice>0?(d(),f(c,{key:0,class:"cu-tag badge"},{default:g((()=>[m(h(e.notice),1)])),_:2},1024)):j("",!0)])),_:2},1024),p(c,{class:v(l.PageCur==e.name?"text-mauve":"text-black")},{default:g((()=>[m(h(e.title),1)])),_:2},1032,["class"])])),_:2},1032,["onClick"])))),128))])),_:1}),C(p(c,null,{default:g((()=>[p(c,{class:"com_bg"}),p(c,{class:"com_main"},{default:g((()=>[p(c,{class:"pop_mian"},{default:g((()=>[p(c,{class:"pop_title"},{default:g((()=>[m(h(e.$t("pop.title")),1)])),_:1}),p(c,{style:{padding:"10px 15px",display:"flex","justify-content":"flex-start","line-height":"25px","flex-wrap":"wrap"}},{default:g((()=>[m(h(e.$t("pop.content1")),1)])),_:1}),p(c,{class:"pop_foot"},{default:g((()=>[p(c,{class:"pop_ft_btn1",onClick:t[6]||(t[6]=e=>l.pop_notice=!1)},{default:g((()=>[m(h(e.$t("pop.close")),1)])),_:1}),p(c,{class:"pop_ft_btn2",onClick:t[7]||(t[7]=t=>e.pop_ok())},{default:g((()=>[m(h(e.$t("pop.up")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512),[[I,l.pop_notice]])])),_:1})}],["__scopeId","data-v-20837b02"]]);export{z as default};
