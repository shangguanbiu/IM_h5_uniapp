import{_ as t,u as s,s as i,n as a,K as e,g as o,o as n,e as l,w as d,i as r,k as c,r as p,F as u,x as h,f as _,j as g,t as m,z as f}from"./index-784797a9.js";const x=s(i);const k=t({data:()=>({paddingB:0,total:0,params:{page:1,limit:10,is_mine:0},list:[],join_id:"",contacts:[],host:""}),methods:{openDetails(t){a({url:"/pages/message/chat?id=group-"+t.group_id})},getList(){this.$api.third_openApi.opengroup_List(this.params).then((t=>{if(0==t.code){this.list=t.data.data,this.total=t.count;for(var s=0;s<this.list.length;s++)for(var i=0;i<this.contacts.length;i++)this.list[s].group_id==this.contacts[i].group_id&&this.$set(this.list[s],"ifin",!0)}}))},into_droup(t,s){this.$api.third_openApi.into_group({group_id:"group-"+t,inviteUid:[1]}).then((t=>{0==t.code&&(e({title:this.$t("group.seccess"),icon:"success"}),this.initContacts(),this.$set(this.list[s],"ifin",!0))}))},initContacts(){this.modelName="",this.$api.msgApi.initContacts().then((t=>{x.sysUnread=t.count,x.initContacts(t.data)}))}},created(){this.paddingB=this.inlineTools,this.getList(),this.contacts=o("allContacts"),this.host=this.$imgurl()}},[["render",function(t,s,i,a,e,o){const x=f,k=r,y=h("Empty");return n(),l(k,null,{default:d((()=>[0!==e.list.length?(n(),l(k,{key:0,style:{"padding-bottom":"50px"}},{default:d((()=>[(n(!0),c(u,null,p(e.list,((s,i)=>(n(),l(k,{class:"user_line",key:i},{default:d((()=>[_(k,{class:"user_l"},{default:d((()=>[_(x,{src:e.host+s.avatar,mode:"widthFix",style:{width:"100%","border-radius":"8px"}},null,8,["src"])])),_:2},1024),_(k,{class:"user_r"},{default:d((()=>[_(k,{class:"item_name"},{default:d((()=>[g(m(s.name),1)])),_:2},1024),_(k,{style:{"max-height":"90px","font-size":"13px",color:"#969696",padding:"10px 0"}},{default:d((()=>[g(m(s.desc_v),1)])),_:2},1024),s.ifin?(n(),l(k,{key:0,onClick:t=>o.openDetails(s),class:"item_btn2"},{default:d((()=>[g(m(t.$t("group.in_group")),1)])),_:2},1032,["onClick"])):(n(),l(k,{key:1,class:"item_btn",onClick:t=>o.into_droup(s.group_id,i)},{default:d((()=>[g(m(t.$t("group.add_group")),1)])),_:2},1032,["onClick"]))])),_:2},1024)])),_:2},1024)))),128))])),_:1})):(n(),l(y,{key:1,noDatatext:t.$t("group.no_data"),textcolor:"#999"},null,8,["noDatatext"]))])),_:1})}],["__scopeId","data-v-5dc70e18"]]);export{k as default};
