import{_ as t,a as e,s as l,n as a,K as s,o as i,e as o,w as n,q as _,i as u,f,j as r,t as d,m as c,k as m,r as h,F as b,l as p,v as y,P as g,Q as w}from"./index-7b243064.js";const x=e(l);const k=t({data:()=>({loginStore:x,pop_notice:!1,scroll_ft:!1,pop_bet:!1,index_ico:"@/static/image/shouye.png",index_ico_h:"",cz_ico:"",cz_ico_h:"",kf_ico:"",kf_ico_h:"",user_ico:"",user_ico_h:"",bet_num:"",max_num:0,qishu:"",qishu_id:"",ifrun:!0,ifhistory:!1,history_list:[],Number_arr:[],Number_laster:[],cost_arr:[10,50,100,200,500,1e3],userinfo:{},time1:0,time2:0,time3:0,time_build:null,if_over:!1,pageHeight:0,flow_data:{}}),watch:{watch:{$route(t){t.fullPath}},bet_num(t){Number(t)>this.max_num?this.bet_num=this.max_num:this.bet_num=t},time3:function(t){var e=this;if(0==this.time1&&0==this.time2&&t<8&&(this.ifrun=!1),this.time2==t&&0==t)return this.if_over=!0,this.ifrun=!1,clearInterval(this.time_build),this.time_build=null,void setTimeout((function(){e.getNewOpenData()}),3e3);(t<0||NaN==t||"NaN"==t)&&(this.ifrun=!1,clearInterval(this.time_build),this.time_build=null,setTimeout((function(){e.getNewOpenData()}),3e3))}},methods:{get_sys_userinfo(){var t={user_id:JSON.parse(JSON.stringify(x.userInfo)).user_id};this.$api.third_openApi.get_user_info(t).then((t=>{if(0==t.code){console.log("ssssssssss",t);let e=t.data.data;this.flow_data=e[0],console.log("dddddddddd",this.flow_data.flow1)}}))},change_num(t){},showtime(t,e){if(""!==e){var l=new Date,a=new Date(e).getTime()-l.getTime(),s=Math.floor(a/864e5),i=Math.floor(a/36e5%24),o=Math.floor(a/6e4%60),n=Math.floor(a/1e3%60);return this.time1=i,this.time2=o,this.time3=n,s+"å¤©"+i+":"+o+":"+n}},jump(t){1==t?a({url:"/pages/movie/index/index"}):2==t?a({url:"/pages/movie/list/index"}):3==t?a({url:"/pages/movie/bet/bet"}):4==t?a({url:"/pages/kefu/kefu_index"}):5==t&&a({url:"/pages/mine/index"})},see_list(){a({url:"/pages/movie/bet/list"})},get_bet_num(t,e){this.Number_arr[e].ifhad?this.Number_arr[e].ifhad=!1:this.Number_arr[e].ifhad=!0;const l=this.Number_arr.find((t=>1==t.ifhad));this.pop_bet=void 0!==l,this.pageHeight<820&&1==this.pop_bet&&(this.scroll_ft=!0)},get_num(t){this.bet_num=t},reset(){this.bet_num=""},async get_userInfo(){const t=await this.$myRuquest({url:"/api/front/user/getUserInfo",method:"POST"});200==t.code&&(this.userinfo=t.data,this.max_num=this.userinfo.balance)},async getNewOpenData(){const t=await this.$myRuquest({url:"/api/front/movie/getNewOpenData",method:"POST"});200==t.code&&(this.getHistoryOpenData(),this.qishu=t.data.open_no,this.qishu_id=t.data.id,this.time_build=setInterval((()=>{this.showtime("",t.data.open_time)}),1e3),this.ifrun=!0)},async getOpenData(){const t=await this.$myRuquest({url:"/api/front/movie/getActionDetail",method:"POST"});200==t.code&&(this.qishu=t.data.next_open_data.open_no,this.qishu_id=t.data.next_open_data.id,this.time_build=setInterval((()=>{this.showtime("",t.data.next_open_data.open_time)}),1e3))},async getHistoryOpenData(){const t=await this.$myRuquest({url:"/api/front/movie/getHistoryOpenData",method:"POST",data:{page:1,pagesize:10}});200==t.code&&(this.Number_laster=t.data.data)},async submit_bet(){if(Number(this.bet_num)>Number(this.max_num))return void s({title:this.$t("bet.pop_tit1"),icon:"none"});if(Number(this.bet_num)<0||0==Number(this.bet_num))return void s({title:this.$t("bet.pop_tit2"),icon:"none"});let t=new Array;if(this.Number_arr.forEach((e=>{1==e.ifhad&&t.push(e.value)})),0==t.length)return void s({title:this.$t("bet.pop_tit3"),icon:"none"});200==(await this.$myRuquest({url:"/api/front/order/createOrder",method:"POST",data:{next_open_id:this.qishu_id,multiple_id:t.toString(),amount:Number(this.bet_num)}})).code&&(s({title:this.$t("bet.pop_tit4"),icon:"success"}),this.bet_num="",this.Number_arr.forEach((t=>{t.ifhad=!1})),this.get_userInfo())},run_fun(){this.get_sys_userinfo(),this.get_userInfo(),this.getOpenData(),this.getHistoryOpenData(),this.Number_arr=[{name:this.$t("bet.bet_n1"),value:1,ifhad:!1},{name:this.$t("bet.bet_n2"),value:2,ifhad:!1},{name:this.$t("bet.bet_n3"),value:3,ifhad:!1},{name:this.$t("bet.bet_n4"),value:4,ifhad:!1}]}},onLoad(){this.pop_notice=!1;var t=document.getElementsByClassName("uni-page-head-hd")[0];t&&(t.style.display="none")},mounted(){this.pageHeight=document.documentElement.clientHeight},onShow(){}},[["render",function(t,e,l,a,s,x){const k=u,$=g,N=w;return i(),o(k,{class:_({scroll_ft:s.scroll_ft})},{default:n((()=>[f(k,{class:"bet_top"},{default:n((()=>[f(k,{style:{padding:"10px  15px"}},{default:n((()=>[f(k,{class:"bet_line bet_ge"},{default:n((()=>[f(k,null,{default:n((()=>[r(d(t.$t("bet.now")),1)])),_:1})])),_:1}),f(k,{style:{display:"flex","align-items":"center"},class:"bet_ge"},{default:n((()=>[f(k,{style:{"font-weight":"bold","font-size":"16px","margin-right":"3px","text-decoration":"none"}},{default:n((()=>[r(d(s.qishu),1)])),_:1}),s.ifrun?(i(),o(k,{key:0},{default:n((()=>[r(d(t.$t("bet.go_on")),1)])),_:1})):c("",!0),s.ifrun?c("",!0):(i(),o(k,{key:1},{default:n((()=>[r(d(t.$t("bet.close")),1)])),_:1}))])),_:1}),f(k,{class:"time"},{default:n((()=>[r(d(s.time2+":"+s.time3),1)])),_:1}),f(k,{class:"bet_line bet_ge"},{default:n((()=>[(i(!0),m(b,null,h(s.Number_laster.slice(0,1),((e,l)=>(i(),o(k,{style:{display:"flex"},key:l},{default:n((()=>[f(k,{style:{"margin-right":"10px","text-decoration":"none"}},{default:n((()=>[r(d(e.open_no),1)])),_:2},1024),e.number>5||5==e.number?(i(),o(k,{key:0,class:"color_n2"},{default:n((()=>[r(d(t.$t("bet.bet_n1")),1)])),_:1})):c("",!0),e.number<4||4==e.number?(i(),o(k,{key:1,class:"color_n1"},{default:n((()=>[r(d(t.$t("bet.bet_n2")),1)])),_:1})):c("",!0),e.number%2==1?(i(),o(k,{key:2,class:"color_n1"},{default:n((()=>[r(d(t.$t("bet.bet_n3")),1)])),_:1})):c("",!0),e.number%2==0?(i(),o(k,{key:3,class:"color_n2"},{default:n((()=>[r(d(t.$t("bet.bet_n4")),1)])),_:1})):c("",!0)])),_:2},1024)))),128)),f(k,{onClick:e[0]||(e[0]=t=>s.ifhistory=!s.ifhistory),style:{display:"flex"}},{default:n((()=>[r(d(t.$t("bet.history"))+" ",1),s.ifhistory?c("",!0):(i(),o(k,{key:0,class:"cuIcon-unfold",style:{"line-height":"19px","margin-left":"2px"}})),s.ifhistory?(i(),o(k,{key:1,class:"cuIcon-fold",style:{"line-height":"19px","margin-left":"2px"}})):c("",!0)])),_:1}),p(f(k,{class:"history_are",onClick:e[1]||(e[1]=t=>s.ifhistory=!1)},{default:n((()=>[0!==s.Number_laster.length?(i(),o(k,{key:0,style:{padding:"0px 15px"}},{default:n((()=>[(i(!0),m(b,null,h(s.Number_laster,((e,l)=>(i(),o(k,{style:{display:"flex",padding:"5px 0"},key:l},{default:n((()=>[f(k,{style:{"margin-right":"10px"}},{default:n((()=>[r(d(e.open_no),1)])),_:2},1024),e.number>5||5==e.number?(i(),o(k,{key:0,class:"color_n2"},{default:n((()=>[r(d(t.$t("bet.bet_n1")),1)])),_:1})):c("",!0),e.number<4||4==e.number?(i(),o(k,{key:1,class:"color_n1"},{default:n((()=>[r(d(t.$t("bet.bet_n2")),1)])),_:1})):c("",!0),e.number%2==1?(i(),o(k,{key:2,class:"color_n1"},{default:n((()=>[r(d(t.$t("bet.bet_n3")),1)])),_:1})):c("",!0),e.number%2==0?(i(),o(k,{key:3,class:"color_n2"},{default:n((()=>[r(d(t.$t("bet.bet_n4")),1)])),_:1})):c("",!0)])),_:2},1024)))),128))])),_:1})):c("",!0)])),_:1},512),[[y,s.ifhistory]])])),_:1})])),_:1})])),_:1}),f(k,{class:"bet_top_ft"},{default:n((()=>[f(k,{class:"bet_t_ft_m",onClick:e[2]||(e[2]=t=>s.pop_notice=!0)},{default:n((()=>[r(d(t.$t("bet.rule")),1)])),_:1}),f(k,{class:"bet_t_ft_m",onClick:x.see_list,style:{display:"flex","justify-content":"center",color:"#e6557f"}},{default:n((()=>[r(d(t.$t("bet.outlist"))+" ",1),f(k,{class:"cuIcon-right",style:{"line-height":"40px","margin-left":"2px"}})])),_:1},8,["onClick"])])),_:1}),f(k,{class:"bet_main"},{default:n((()=>[(i(!0),m(b,null,h(s.Number_arr,((t,e)=>(i(),o(k,{class:"bet_mainzi",key:e},{default:n((()=>[f(k,{class:_(["bet_zi",{bet_zi_get:t.ifhad}]),onClick:l=>x.get_bet_num(t,e)},{default:n((()=>[r(d(t.name),1)])),_:2},1032,["class","onClick"])])),_:2},1024)))),128))])),_:1}),f(k,{style:{"padding-left":"15px",color:"#e6557f","font-size":"16px","font-weight":"bold",margin:"15px 0"}},{default:n((()=>[r(d(t.$t("bet.flow_tit")),1)])),_:1}),f(k,{style:{"padding-left":"10%"}},{default:n((()=>[f(k,{class:"flow_line"},{default:n((()=>[f(k,{style:{width:"40%"}},{default:n((()=>[f(k,{style:{"margin-left":"-10px"},class:"color1"},{default:n((()=>[r(d(t.$t("bet.flow1")),1)])),_:1}),f(k,{class:"flow_m"},{default:n((()=>[1==s.flow_data.flow1?(i(),o(k,{key:0,class:"cuIcon-title color1"})):c("",!0),0==s.flow_data.flow1?(i(),o(k,{key:1,class:"cuIcon-title color2"})):c("",!0),f(k,{class:_(["flow_l color2_bg",{color1_bg:1==s.flow_data.flow1}]),style:{flex:"1"}},null,8,["class"])])),_:1}),1==s.flow_data.flow1?(i(),o(k,{key:0,style:{"margin-left":"-10px"},class:"color1"},{default:n((()=>[r(d(t.$t("bet.flow_type1")),1)])),_:1})):(i(),o(k,{key:1,style:{"margin-left":"-10px"},class:"color2"},{default:n((()=>[r(d(t.$t("bet.flow_type2")),1)])),_:1}))])),_:1}),f(k,{style:{width:"40%"}},{default:n((()=>[f(k,{style:{"margin-left":"-10px"},class:"color1"},{default:n((()=>[r(d(t.$t("bet.flow2")),1)])),_:1}),f(k,{class:"flow_m"},{default:n((()=>[1==s.flow_data.flow2?(i(),o(k,{key:0,class:"cuIcon-roundcheckfill color1"})):c("",!0),0==s.flow_data.flow2?(i(),o(k,{key:1,class:"cuIcon-title color2"})):c("",!0),f(k,{class:_(["flow_l color2_bg",{color1_bg:1==s.flow_data.flow2}]),style:{flex:"1"}},null,8,["class"])])),_:1}),1==s.flow_data.flow2?(i(),o(k,{key:0,style:{"margin-left":"-10px"},class:"color1"},{default:n((()=>[r(d(t.$t("bet.flow_type1")),1)])),_:1})):(i(),o(k,{key:1,style:{"margin-left":"-10px"},class:"color2"},{default:n((()=>[r(d(t.$t("bet.flow_type2")),1)])),_:1}))])),_:1}),f(k,{style:{width:"20%"}},{default:n((()=>[f(k,{style:{"margin-left":"-10px"},class:"color1"},{default:n((()=>[r(d(t.$t("bet.flow3")),1)])),_:1}),f(k,{class:"flow_m"},{default:n((()=>[1==s.flow_data.flow3?(i(),o(k,{key:0,class:"cuIcon-roundcheckfill color1"})):c("",!0),0==s.flow_data.flow3?(i(),o(k,{key:1,class:"cuIcon-title color2"})):c("",!0)])),_:1}),1==s.flow_data.flow3?(i(),o(k,{key:0,style:{"margin-left":"-10px"},class:"color1"},{default:n((()=>[r(d(t.$t("bet.flow_type1")),1)])),_:1})):(i(),o(k,{key:1,style:{"margin-left":"-10px"},class:"color2"},{default:n((()=>[r(d(t.$t("bet.flow_type2")),1)])),_:1}))])),_:1})])),_:1})])),_:1}),p(f(k,{class:"bet_foot"},{default:n((()=>[f(k,{class:"bet_f_m"},{default:n((()=>[f(k,{class:"bet_f_mtit"},{default:n((()=>[f(k,null,{default:n((()=>[r(d(t.$t("bet.bet_tit")),1)])),_:1}),f(k,{class:"had_num"},{default:n((()=>[r(d(t.$t("bet.balance"))+":"+d(s.max_num),1)])),_:1})])),_:1}),f(k,{class:"bet_num_line"},{default:n((()=>[(i(!0),m(b,null,h(s.cost_arr,((t,e)=>(i(),o(k,{class:"bet_num",key:e,onClick:e=>x.get_num(t)},{default:n((()=>[r(d(t),1)])),_:2},1032,["onClick"])))),128))])),_:1}),f(k,{class:"bet_num_line",style:{padding:"15px 0"}},{default:n((()=>[f(k,{style:{"line-height":"30px"}},{default:n((()=>[r(d(t.$t("bet.bet_tit_1"))+":",1)])),_:1}),f(k,null,{default:n((()=>[f($,{class:"uni-input inmut_l",modelValue:s.bet_num,"onUpdate:modelValue":e[3]||(e[3]=t=>s.bet_num=t),onInput:e[4]||(e[4]=t=>x.change_num(s.bet_num)),type:"number",placeholder:""},null,8,["modelValue"])])),_:1}),f(k,null,{default:n((()=>[f(N,{type:"default",class:"reset_btn",onClick:x.reset},{default:n((()=>[r(d(t.$t("bet.reset")),1)])),_:1},8,["onClick"])])),_:1})])),_:1}),s.ifrun?(i(),o(N,{key:0,type:"default",class:"ok_btn",onClick:x.submit_bet},{default:n((()=>[r(d(t.$t("bet.set_ok")),1)])),_:1},8,["onClick"])):c("",!0),s.ifrun?c("",!0):(i(),o(N,{key:1,type:"default",class:"ok_btn2"},{default:n((()=>[r(d(t.$t("bet.close")),1)])),_:1}))])),_:1})])),_:1},512),[[y,s.pop_bet]]),p(f(k,null,{default:n((()=>[f(k,{class:"com_bg"}),f(k,{class:"com_main"},{default:n((()=>[f(k,{class:"pop_mian"},{default:n((()=>[f(k,{class:"pop_title"},{default:n((()=>[r(d(t.$t("bet.rule")),1)])),_:1}),f(k,{style:{padding:"10px 15px",display:"flex","justify-content":"flex-start","line-height":"25px","flex-wrap":"wrap"}},{default:n((()=>[r(d(t.$t("bet.content")),1)])),_:1}),f(k,{class:"pop_foot"},{default:n((()=>[f(k,{class:"pop_ft_btn2",onClick:e[5]||(e[5]=t=>s.pop_notice=!1)},{default:n((()=>[r(d(t.$t("bet.close")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512),[[y,s.pop_notice]])])),_:1},8,["class"])}],["__scopeId","data-v-75ae7933"]]);export{k as default};
