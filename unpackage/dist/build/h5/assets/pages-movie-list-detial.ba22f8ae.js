import{_ as e,a as t,s as a,n as s,g as i,c as l,o,e as n,w as r,i as d,f as c,j as u,t as _,k as p,r as f,F as m,m as g,v as h,q as w,Z as k,p as v,y as x}from"./index-cd0ab6d8.js";const y=t(a);const b=e({data:()=>({top_title:"详情",pop_notice:!1,scrollW:0,show_login:!1,indicatorDots:!0,autoplay:!0,interval:3e3,duration:500,indicatorColor:"#292b40",indicatorActiveColor:"#ffffff",tag:["好看","大片","动作片","青春","喜剧"],detail:{},guess_arr:[],fromUser:""}),methods:{pop_ok(){s({url:"/pages/movie/kefu/kefu"})},async getList(e){this.list=[];const t=await this.$myRuquest({method:"Post",url:"/api/front/movie/getList",data:{page:1,pagesize:6,tag:"",current_id:e}});200==t.code&&(this.guess_arr=t.data.list)},async add_view(e){200==(await this.$myRuquest({method:"Post",url:"/api/front/movie/addViewCount",data:{id:e}})).code&&this.count_number("isview")},async count_number(e){if(200==(await this.$myRuquest({url:"/api/front/index/changeImUserData",method:"POST",data:{user_id:this.fromUser.user_id,column:e}})).code){this.fromUser.isview=this.fromUser.isview-1;let e=JSON.parse(JSON.stringify(this.fromUser));y.login(e),console.log("ddddddd1",this.fromUser)}},jump(e){1==e?s({url:"/pages/index/index"}):2==e?s({url:"/pages/recharge/recharge"}):3==e?s({url:"/pages/kefu/kefu_index"}):4==e&&s({url:"/pages/usercenter/usercenter"})},onClose(){this.show_login=!this.show_login},noOk(){s({url:"/pages/login/login"})},to_notice(){s({url:"/pages/notice/notice"})},onNavigationBarButtonTap(e){""!==i("token")?0==e.index?s({url:"/pages/notice/notice"}):s({url:"/pages/login/login"}):this.show_login=!0},see_detail(e){0!=this.fromUser.isview?(l("movice_info",e),s({url:"/pages/movie/list/detial?id="+e.id})):this.pop_notice=!0}},onLoad(e){l("iffirst",!1),this.detail=i("movice_info"),this.top_title=this.detail.name,this.getList(e.id),this.add_view(e.id)},mounted(){this.fromUser=i("userInfo"),window.scrollTo({top:0,behavior:"smooth"})},onShow(){window.scrollTo({top:0,behavior:"smooth"}),this.show_login=!1,i("token")}},[["render",function(e,t,a,s,i,l){const y=w("cu-custom"),b=k,C=d,U=x,z=w("van-icon");return o(),n(C,null,{default:r((()=>[c(y,{bgColor:"bg-gradual-pink",isBack:!0},{backText:r((()=>[])),content:r((()=>[u(_(i.top_title),1)])),_:1}),c(C,{class:"page-section swiper"},{default:r((()=>[c(C,null,{default:r((()=>[c(b,{id:"myVideo",src:i.detail.url,onError:e.videoErrorCallback,width:"100%",height:"400px","enable-danmu":"","danmu-btn":"",controls:""},null,8,["src","onError"])])),_:1}),c(C,{class:"main_i"},{default:r((()=>[c(C,{class:"main_title"},{default:r((()=>[u(_(i.detail.name),1)])),_:1}),c(C,{class:"mian_price_line",style:{padding:"7px 0"}},{default:r((()=>[c(C,{class:"mark_price"},{default:r((()=>[u("浏览量："+_(i.detail.view_count),1)])),_:1})])),_:1}),c(C,{class:"main_title",style:{"margin-top":"10px",color:"#2a1468"}},{default:r((()=>[u("简介")])),_:1}),c(C,{class:"dangan"},{default:r((()=>[u(_(i.detail.desc),1)])),_:1}),c(C,{style:{display:"flex",padding:"10px 0","flex-wrap":"wrap"}},{default:r((()=>[(o(!0),p(m,null,f(i.detail.hot_tags.split(","),((e,t)=>(o(),n(C,{class:v("item_"+t),key:t},{default:r((()=>[u(_(e),1)])),_:2},1032,["class"])))),128))])),_:1}),c(C,{class:"main_title",style:{"margin-top":"10px",color:"#2a1468"}},{default:r((()=>[u("猜你喜欢")])),_:1}),c(C,{class:"like_are"},{default:r((()=>[(o(!0),p(m,null,f(i.guess_arr,((e,t)=>(o(),n(C,{class:"like_zi",key:t,onClick:t=>l.see_detail(e)},{default:r((()=>[c(C,{class:"like_zi_are"},{default:r((()=>[c(U,{src:e.img,class:"list_zi_img",mode:"widthFix"},null,8,["src"]),c(C,{class:"like_zi_title"},{default:r((()=>[c(C,null,{default:r((()=>[u(_(e.name),1)])),_:2},1024),c(C,null,{default:r((()=>[c(z,{name:"eye-o",class:"l_ft_r"}),u(_(e.view_count),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1}),g(c(C,null,{default:r((()=>[c(C,{class:"com_bg"}),c(C,{class:"com_main"},{default:r((()=>[c(C,{class:"pop_mian"},{default:r((()=>[c(C,{class:"pop_title"},{default:r((()=>[u("提示")])),_:1}),c(C,{style:{padding:"10px 15px",display:"flex","justify-content":"flex-start","line-height":"25px","flex-wrap":"wrap"}},{default:r((()=>[u(" 您当前可观看浏览视频数量已达到每日限制，观看更多可开通会员，请联系客服 ")])),_:1}),c(C,{class:"pop_foot"},{default:r((()=>[c(C,{class:"pop_ft_btn1",onClick:t[0]||(t[0]=e=>i.pop_notice=!1)},{default:r((()=>[u("关闭")])),_:1}),c(C,{class:"pop_ft_btn2",onClick:t[1]||(t[1]=e=>l.pop_ok())},{default:r((()=>[u("去升级")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512),[[h,i.pop_notice]])])),_:1})}],["__scopeId","data-v-6fd35ba7"]]);export{b as default};
