import{_ as e,u as t,s as a,a as s,b as l,g as n,$ as i,n as c,d as o,aa as u,o as r,e as d,w as f,i as g,f as p,j as m,t as _,q as h,C as v,k as x,r as k,F as C,l as b,v as y,x as I,z as $,y as w,Q as S,m as N}from"./index-784797a9.js";import{s as j}from"./scan.860761f3.js";const O=""+new URL("vip_me-3501a8ec.png",import.meta.url).href,J=t(a),L=s(a),{unread:P,sysUnread:U}=l(J);const q=e({data(){return{pop_notice:!1,loginStore:L,globalConfig:L.globalConfig,appSetting:L.appSetting,PageCur:"mine",navList:[{name:"home",title:this.$t("nav.home"),notice:0},{name:"message",title:this.$t("nav.message"),notice:P},{name:"serve",title:this.$t("nav.serve"),notice:0},{name:"contacts",title:this.$t("nav.contacts"),notice:U},{name:"mine",title:this.$t("nav.mine"),notice:0}]}},onShow(){},mounted(){n("allContacts").length||this.initContacts(),i("socketStatus",(e=>{e&&this.initContacts()}));var e=document.getElementsByClassName("uni-page-head-hd")[0];e&&(e.style.display="none"),this.get_userinfo()},methods:{async get_userinfo(){let e=JSON.parse(JSON.stringify(L.userInfo));const t=await this.$myRuquest({url:"/api/front/index/getImUserInfo",method:"POST",data:{user_id:e.user_id}});if(200==t.code){let e=JSON.parse(JSON.stringify(t.data));L.login(e)}},to_like(e){let t=JSON.parse(JSON.stringify(L.userInfo));if(1==e){if(0==t.islevel&&0==t.role)return void(this.pop_notice=!0);c({url:"/pages/mine/like/like_me"})}else c({url:"/pages/mine/like/like"})},NavChange(e){"message"==e.name?c({url:"/pages/index/mv_index"}):"contacts"==e.name?o({url:"/pages/contacts/index"}):"compass"==e.name?c({url:"/pages/compass/index"}):"home"==e.name?o({url:"/pages/index/index"}):"serve"==e.name&&c({url:"/pages/movie/kefu/kefu"})},initContacts(){this.modelName="",this.$api.msgApi.initContacts().then((e=>{J.sysUnread=e.count,J.initContacts(e.data)}))},logout(){let e=n("client_id");this.$api.LoginApi.logout({client_id:e}).then((e=>{0==e.code&&L.logout()})),u("allContacts"),u("ifLogin"),u("iffirst")},about(){if(this.globalConfig&&this.globalConfig.demon_mode){c({url:"/pages/mine/webview?src="+"https://im.raingad.com"})}else c({url:"/pages/mine/about"})},showSetting(){c({url:"/pages/mine/setting"})},showsecure(){c({url:"/pages/mine/secure"})},editInfo(){c({url:"/pages/mine/profile"})},scan(){j.scanQr()},openQr(){c({url:"/pages/index/qrcode"})},to_vip(){c({url:"/pages/mine/vip/vip"})}}},[["render",function(e,t,a,s,l,n){const i=I("cu-custom"),c=g,o=$,u=w,j=S;return r(),d(c,null,{default:f((()=>[p(i,{bgColor:"bg-gradual-pink",isBack:!1},{content:f((()=>[m(_(e.$t("usercenter.title")),1)])),_:1}),p(c,{class:"padding flex im-space-between im-align-items-center bg-white mb-10"},{default:f((()=>[p(c,{class:"flex justify-start bg-white",onClick:t[0]||(t[0]=e=>n.editInfo())},{default:f((()=>[p(c,{class:h(["cu-avatar lg mr-15",l.appSetting.circleAvatar?"round":"radius"]),style:v([{backgroundImage:"url("+l.loginStore.userInfo.avatar+")"}])},null,8,["class","style"]),p(c,{class:"im-flex im-justify-content-start im-columns"},{default:f((()=>[p(c,{class:"mb-5 f-18 mb-10 im-flex im-align-items-center"},{default:f((()=>[p(c,{class:"c-333"},{default:f((()=>[m(_(l.loginStore.userInfo.realname),1)])),_:1})])),_:1}),p(c,{class:"text-gray mb-10"},{default:f((()=>[m(_(l.loginStore.userInfo.account),1)])),_:1})])),_:1})])),_:1})])),_:1}),p(c,{class:"vip_are_P",onClick:n.to_vip},{default:f((()=>[p(c,{class:"vip_are_m"},{default:f((()=>[p(c,{class:"vip_are_tit"},{default:f((()=>[m(_(e.$t("usercenter.vip_title")),1)])),_:1}),p(c,{class:"vip_are_p"},{default:f((()=>[m(_(e.$t("usercenter.vip_desc")),1)])),_:1})])),_:1}),p(o,{src:O,mode:"widthFix",style:{width:"100%","max-height":"100px"}})])),_:1},8,["onClick"]),p(c,{class:"cu-list menu"},{default:f((()=>[p(c,{class:"cu-item",onClick:t[1]||(t[1]=e=>n.to_like(1))},{default:f((()=>[p(c,{class:"content"},{default:f((()=>[p(u,{class:"cuIcon-likefill text-red"}),p(u,null,{default:f((()=>[m(_(e.$t("usercenter.l_nav1")),1)])),_:1})])),_:1}),p(c,{class:"action"},{default:f((()=>[p(u,{class:"text-grey cuIcon-right"})])),_:1})])),_:1}),p(c,{class:"cu-item",onClick:t[2]||(t[2]=e=>n.to_like(2))},{default:f((()=>[p(c,{class:"content"},{default:f((()=>[p(u,{class:"cuIcon-emojiflashfill text-pink"}),p(u,null,{default:f((()=>[m(_(e.$t("usercenter.l_nav2")),1)])),_:1})])),_:1}),p(c,{class:"action"},{default:f((()=>[p(u,{class:"text-grey cuIcon-right"})])),_:1})])),_:1}),p(c,{class:"cu-item",onClick:n.showSetting},{default:f((()=>[p(c,{class:"content"},{default:f((()=>[p(u,{class:"cuIcon-settings text-grey"}),p(u,null,{default:f((()=>[m(_(e.$t("usercenter.l_nav3")),1)])),_:1})])),_:1}),p(c,{class:"action"},{default:f((()=>[p(u,{class:"text-grey cuIcon-right"})])),_:1})])),_:1},8,["onClick"]),p(c,{class:"cu-item",onClick:n.showsecure},{default:f((()=>[p(c,{class:"content"},{default:f((()=>[p(u,{class:"cuIcon-safe text-orange"}),p(u,null,{default:f((()=>[m(_(e.$t("usercenter.l_nav4")),1)])),_:1})])),_:1}),p(c,{class:"action"},{default:f((()=>[p(u,{class:"text-grey cuIcon-right"})])),_:1})])),_:1},8,["onClick"])])),_:1}),p(c,{class:"padding flex flex-direction"},{default:f((()=>[p(j,{class:"cu-btn bg-red lg",onClick:t[3]||(t[3]=e=>n.logout())},{default:f((()=>[m(_(e.$t("usercenter.login_put")),1)])),_:1})])),_:1}),p(c,{class:"cu-bar tabbar bg-white shadow foot"},{default:f((()=>[(r(!0),x(C,null,k(l.navList,((e,t)=>(r(),d(c,{class:"action",onClick:t=>n.NavChange(e),key:t,"data-cur":"message"},{default:f((()=>[p(c,{class:"cuIcon-cu-image"},{default:f((()=>[p(o,{src:"/static/image/tabbar/"+[e.name]+[l.PageCur==e.name?"-active":""]+".svg"},null,8,["src"]),e.notice>0?(r(),d(c,{key:0,class:"cu-tag badge"},{default:f((()=>[m(_(e.notice),1)])),_:2},1024)):N("",!0)])),_:2},1024),p(c,{class:h(l.PageCur==e.name?"text-mauve":"text-black")},{default:f((()=>[m(_(e.title),1)])),_:2},1032,["class"])])),_:2},1032,["onClick"])))),128))])),_:1}),b(p(c,null,{default:f((()=>[p(c,{class:"com_bg"}),p(c,{class:"com_main"},{default:f((()=>[p(c,{class:"pop_mian"},{default:f((()=>[p(c,{class:"pop_title"},{default:f((()=>[m(_(e.$t("pop.title")),1)])),_:1}),p(c,{style:{padding:"10px 15px",display:"flex","justify-content":"flex-start","line-height":"25px","flex-wrap":"wrap"}},{default:f((()=>[m(_(e.$t("pop.content1")),1)])),_:1}),p(c,{class:"pop_foot"},{default:f((()=>[p(c,{class:"pop_ft_btn1",onClick:t[4]||(t[4]=e=>l.pop_notice=!1)},{default:f((()=>[m(_(e.$t("pop.close")),1)])),_:1}),p(c,{class:"pop_ft_btn2",onClick:t[5]||(t[5]=t=>e.pop_ok())},{default:f((()=>[m(_(e.$t("pop.up")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512),[[y,l.pop_notice]])])),_:1})}],["__scopeId","data-v-3ee63c29"]]);export{q as default};
