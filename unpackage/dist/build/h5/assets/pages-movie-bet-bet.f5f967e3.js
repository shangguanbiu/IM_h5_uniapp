import{_ as t,n as e,K as i,o as a,e as s,w as l,q as n,i as u,f as _,j as o,t as r,m as d,k as m,r as f,F as c,l as h,v as b,P as p,Q as y}from"./index-19f78353.js";const g=t({data:()=>({pop_notice:!1,scroll_ft:!1,pop_bet:!1,index_ico:"@/static/image/shouye.png",index_ico_h:"",cz_ico:"",cz_ico_h:"",kf_ico:"",kf_ico_h:"",user_ico:"",user_ico_h:"",bet_num:"",max_num:0,qishu:"",qishu_id:"",ifrun:!0,ifhistory:!1,history_list:[],Number_arr:[{name:"春",value:1,ifhad:!1},{name:"夏",value:2,ifhad:!1},{name:"秋",value:3,ifhad:!1},{name:"冬",value:4,ifhad:!1}],Number_laster:[],cost_arr:[10,50,100,200,500,1e3],userinfo:{},time1:0,time2:0,time3:0,time_build:null,if_over:!1,pageHeight:0}),watch:{watch:{$route(t){t.fullPath}},bet_num(t){Number(t)>this.max_num?this.bet_num=this.max_num:this.bet_num=t},time3:function(t){var e=this;if(0==this.time1&&0==this.time2&&t<8&&(this.ifrun=!1),this.time2==t&&0==t)return this.if_over=!0,this.ifrun=!1,clearInterval(this.time_build),this.time_build=null,void setTimeout((function(){e.getNewOpenData()}),3e3);(t<0||NaN==t||"NaN"==t)&&(this.ifrun=!1,clearInterval(this.time_build),this.time_build=null,setTimeout((function(){e.getNewOpenData()}),3e3))}},methods:{change_num(t){},showtime(t,e){if(""!==e){var i=new Date,a=new Date(e).getTime()-i.getTime(),s=Math.floor(a/864e5),l=Math.floor(a/36e5%24),n=Math.floor(a/6e4%60),u=Math.floor(a/1e3%60);return this.time1=l,this.time2=n,this.time3=u,s+"天"+l+":"+n+":"+u}},jump(t){1==t?e({url:"/pages/movie/index/index"}):2==t?e({url:"/pages/movie/list/index"}):3==t?e({url:"/pages/movie/bet/bet"}):4==t?e({url:"/pages/kefu/kefu_index"}):5==t&&e({url:"/pages/mine/index"})},see_list(){e({url:"/pages/movie/bet/list"})},get_bet_num(t,e){this.Number_arr[e].ifhad?this.Number_arr[e].ifhad=!1:this.Number_arr[e].ifhad=!0;const i=this.Number_arr.find((t=>1==t.ifhad));this.pop_bet=void 0!==i,this.pageHeight<820&&1==this.pop_bet&&(this.scroll_ft=!0)},get_num(t){this.bet_num=t},reset(){this.bet_num=""},async get_userInfo(){const t=await this.$myRuquest({url:"/api/front/user/getUserInfo",method:"POST"});200==t.code&&(this.userinfo=t.data,this.max_num=this.userinfo.balance)},async getNewOpenData(){const t=await this.$myRuquest({url:"/api/front/movie/getNewOpenData",method:"POST"});200==t.code&&(this.getHistoryOpenData(),this.qishu=t.data.open_no,this.qishu_id=t.data.id,this.time_build=setInterval((()=>{this.showtime("",t.data.open_time)}),1e3),this.ifrun=!0)},async getOpenData(){const t=await this.$myRuquest({url:"/api/front/movie/getActionDetail",method:"POST"});200==t.code&&(this.qishu=t.data.next_open_data.open_no,this.qishu_id=t.data.next_open_data.id,this.time_build=setInterval((()=>{this.showtime("",t.data.next_open_data.open_time)}),1e3))},async getHistoryOpenData(){const t=await this.$myRuquest({url:"/api/front/movie/getHistoryOpenData",method:"POST",data:{page:1,pagesize:10}});200==t.code&&(this.Number_laster=t.data.data)},async submit_bet(){if(Number(this.bet_num)>Number(this.max_num))return void i({title:this.$t("bet.pop_tit1"),icon:"none"});if(Number(this.bet_num)<0||0==Number(this.bet_num))return void i({title:this.$t("bet.pop_tit2"),icon:"none"});let t=new Array;if(this.Number_arr.forEach((e=>{1==e.ifhad&&t.push(e.value)})),0==t.length)return void i({title:this.$t("bet.pop_tit3"),icon:"none"});200==(await this.$myRuquest({url:"/api/front/order/createOrder",method:"POST",data:{next_open_id:this.qishu_id,multiple_id:t.toString(),amount:Number(this.bet_num)}})).code&&(i({title:this.$t("bet.pop_tit4"),icon:"success"}),this.bet_num="",this.Number_arr.forEach((t=>{t.ifhad=!1})),this.get_userInfo())},run_fun(){this.get_userInfo(),this.getOpenData(),this.getHistoryOpenData()}},onLoad(){this.pop_notice=!1;var t=document.getElementsByClassName("uni-page-head-hd")[0];t&&(t.style.display="none")},mounted(){this.pageHeight=document.documentElement.clientHeight}},[["render",function(t,e,i,g,x,k){const $=u,v=p,N=y;return a(),s($,{class:n({scroll_ft:x.scroll_ft})},{default:l((()=>[_($,{class:"bet_top"},{default:l((()=>[_($,{style:{padding:"10px  15px"}},{default:l((()=>[_($,{class:"bet_line bet_ge"},{default:l((()=>[_($,null,{default:l((()=>[o(r(t.$t("bet.now")),1)])),_:1})])),_:1}),_($,{style:{display:"flex","align-items":"center"},class:"bet_ge"},{default:l((()=>[_($,{style:{"font-weight":"bold","font-size":"16px","margin-right":"3px"}},{default:l((()=>[o(r(x.qishu),1)])),_:1}),x.ifrun?(a(),s($,{key:0},{default:l((()=>[o(r(t.$t("bet.go_on")),1)])),_:1})):d("",!0),x.ifrun?d("",!0):(a(),s($,{key:1},{default:l((()=>[o(r(t.$t("bet.close")),1)])),_:1}))])),_:1}),_($,{class:"time"},{default:l((()=>[o(r(x.time2+":"+x.time3),1)])),_:1}),_($,{class:"bet_line bet_ge"},{default:l((()=>[(a(!0),m(c,null,f(x.Number_laster.slice(0,1),((e,i)=>(a(),s($,{style:{display:"flex"},key:i},{default:l((()=>[_($,{style:{"margin-right":"10px"}},{default:l((()=>[o(r(e.open_no),1)])),_:2},1024),e.number>5||5==e.number?(a(),s($,{key:0,class:"color_n2"},{default:l((()=>[o(r(t.$t("bet.bet_n1")),1)])),_:1})):d("",!0),e.number<4||4==e.number?(a(),s($,{key:1,class:"color_n1"},{default:l((()=>[o(r(t.$t("bet.bet_n1")),1)])),_:1})):d("",!0),e.number%2==1?(a(),s($,{key:2,class:"color_n1"},{default:l((()=>[o(r(t.$t("bet.bet_n1")),1)])),_:1})):d("",!0),e.number%2==0?(a(),s($,{key:3,class:"color_n2"},{default:l((()=>[o(r(t.$t("bet.bet_n1")),1)])),_:1})):d("",!0)])),_:2},1024)))),128)),_($,{onClick:e[0]||(e[0]=t=>x.ifhistory=!x.ifhistory),style:{display:"flex"}},{default:l((()=>[o(r(t.$t("bet.history"))+" ",1),x.ifhistory?d("",!0):(a(),s($,{key:0,class:"cuIcon-unfold",style:{"line-height":"19px","margin-left":"2px"}})),x.ifhistory?(a(),s($,{key:1,class:"cuIcon-fold",style:{"line-height":"19px","margin-left":"2px"}})):d("",!0)])),_:1}),h(_($,{class:"history_are",onClick:e[1]||(e[1]=t=>x.ifhistory=!1)},{default:l((()=>[0!==x.Number_laster.length?(a(),s($,{key:0,style:{padding:"0px 15px"}},{default:l((()=>[(a(!0),m(c,null,f(x.Number_laster,((e,i)=>(a(),s($,{style:{display:"flex",padding:"5px 0"},key:i},{default:l((()=>[_($,{style:{"margin-right":"10px"}},{default:l((()=>[o(r(e.open_no),1)])),_:2},1024),e.number>5||5==e.number?(a(),s($,{key:0,class:"color_n2"},{default:l((()=>[o(r(t.$t("bet.bet_n1")),1)])),_:1})):d("",!0),e.number<4||4==e.number?(a(),s($,{key:1,class:"color_n1"},{default:l((()=>[o(r(t.$t("bet.bet_n1")),1)])),_:1})):d("",!0),e.number%2==1?(a(),s($,{key:2,class:"color_n1"},{default:l((()=>[o(r(t.$t("bet.bet_n1")),1)])),_:1})):d("",!0),e.number%2==0?(a(),s($,{key:3,class:"color_n2"},{default:l((()=>[o(r(t.$t("bet.bet_n1")),1)])),_:1})):d("",!0)])),_:2},1024)))),128))])),_:1})):d("",!0)])),_:1},512),[[b,x.ifhistory]])])),_:1})])),_:1})])),_:1}),_($,{class:"bet_top_ft"},{default:l((()=>[_($,{class:"bet_t_ft_m",onClick:e[2]||(e[2]=t=>x.pop_notice=!0)},{default:l((()=>[o(r(t.$t("bet.rule")),1)])),_:1}),_($,{class:"bet_t_ft_m",onClick:k.see_list,style:{display:"flex","justify-content":"center",color:"#e6557f"}},{default:l((()=>[o(r(t.$t("bet.outlist"))+" ",1),_($,{class:"cuIcon-right",style:{"line-height":"40px","margin-left":"2px"}})])),_:1},8,["onClick"])])),_:1}),_($,{class:"bet_main"},{default:l((()=>[(a(!0),m(c,null,f(x.Number_arr,((t,e)=>(a(),s($,{class:"bet_mainzi",key:e},{default:l((()=>[_($,{class:n(["bet_zi",{bet_zi_get:t.ifhad}]),onClick:i=>k.get_bet_num(t,e)},{default:l((()=>[o(r(t.name),1)])),_:2},1032,["class","onClick"])])),_:2},1024)))),128))])),_:1}),h(_($,{class:"bet_foot"},{default:l((()=>[_($,{class:"bet_f_m"},{default:l((()=>[_($,{class:"bet_f_mtit"},{default:l((()=>[_($,null,{default:l((()=>[o(r(t.$t("bet.bet_tit")),1)])),_:1}),_($,{class:"had_num"},{default:l((()=>[o(r(t.$t("bet.balance"))+":"+r(x.max_num),1)])),_:1})])),_:1}),_($,{class:"bet_num_line"},{default:l((()=>[(a(!0),m(c,null,f(x.cost_arr,((t,e)=>(a(),s($,{class:"bet_num",key:e,onClick:e=>k.get_num(t)},{default:l((()=>[o(r(t),1)])),_:2},1032,["onClick"])))),128))])),_:1}),_($,{class:"bet_num_line",style:{padding:"15px 0"}},{default:l((()=>[_($,{style:{"line-height":"30px"}},{default:l((()=>[o(r(t.$t("bet.bet_tit_1"))+":",1)])),_:1}),_($,null,{default:l((()=>[_(v,{class:"uni-input inmut_l",modelValue:x.bet_num,"onUpdate:modelValue":e[3]||(e[3]=t=>x.bet_num=t),onInput:e[4]||(e[4]=t=>k.change_num(x.bet_num)),type:"number",placeholder:""},null,8,["modelValue"])])),_:1}),_($,null,{default:l((()=>[_(N,{type:"default",class:"reset_btn",onClick:k.reset},{default:l((()=>[o(r(t.$t("bet.reset")),1)])),_:1},8,["onClick"])])),_:1})])),_:1}),x.ifrun?(a(),s(N,{key:0,type:"default",class:"ok_btn",onClick:k.submit_bet},{default:l((()=>[o(r(t.$t("bet.set_ok")),1)])),_:1},8,["onClick"])):d("",!0),x.ifrun?d("",!0):(a(),s(N,{key:1,type:"default",class:"ok_btn2"},{default:l((()=>[o(r(t.$t("bet.close")),1)])),_:1}))])),_:1})])),_:1},512),[[b,x.pop_bet]]),h(_($,null,{default:l((()=>[_($,{class:"com_bg"}),_($,{class:"com_main"},{default:l((()=>[_($,{class:"pop_mian"},{default:l((()=>[_($,{class:"pop_title"},{default:l((()=>[o(r(t.$t("bet.rule")),1)])),_:1}),_($,{style:{padding:"10px 15px",display:"flex","justify-content":"flex-start","line-height":"25px","flex-wrap":"wrap"}},{default:l((()=>[o(r(t.$t("bet.content")),1)])),_:1}),_($,{class:"pop_foot"},{default:l((()=>[_($,{class:"pop_ft_btn2",onClick:e[5]||(e[5]=t=>x.pop_notice=!1)},{default:l((()=>[o(r(t.$t("bet.close")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512),[[b,x.pop_notice]])])),_:1},8,["class"])}],["__scopeId","data-v-cb8e74fc"]]);export{g as default};
