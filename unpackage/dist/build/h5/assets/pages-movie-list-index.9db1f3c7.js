import{_ as t,n as e,c as s,g as i,aE as a,aF as l,a9 as o,aG as n,o as p,e as _,w as c,i as d,f as r,j as u,t as h,k as g,r as f,F as m,l as y,v as k,p as x,q as w,y as v}from"./index-bbbfa810.js";const C=t({data:()=>({pop_notice:!1,active:0,top_title:"影院",show_more:!1,loadingType:0,page:1,State:0,type_list:[],timer:{},list:[],type_list:[],State:"",index_get:99}),methods:{pop_ok(){e({url:"/pages/movie/kefu/kefu"})},jump(t){1==t?e({url:"/pages/movie/index/index"}):2==t?e({url:"/pages/movie/list/index"}):3==t?e({url:"/pages/movie/bet/bet"}):4==t?e({url:"/pages/kefu/kefu_index"}):5==t&&e({url:"/pages/mine/index"})},see_detail(t){s("movice_info",t),e({url:"/pages/movie/list/detial"})},async get_type_list(){const t=await this.$myRuquest({url:"/api/front/movie/getTypes",method:"POST",data:{page:1}});200==t.code&&(this.type_list=t.data.data)},onClose(){},onChange(t){},openMore(){this.show_more=!this.show_more},get_type(t,e){this.page=1,this.index_get=e,this.openMore(),""!==t?(this.State=t.id,this.top_title="影院-"+t.name):(this.State="",this.top_title="影院"),this.getList()},async getList(t){this.list=[];const e=await this.$myRuquest({url:"/api/front/movie/getMoreList?page="+this.page+"&pagesize=10&type_id="+this.State,header:{Authorization:"Bearer "+i("ifLogin"),"content-type":"application/json"}});200==e.code&&(this.list=e.data.list),t&&t()},async getmorelists(){if(0!==this.loadingType)return!1;this.loadingType=1,a(),this.page++;const t=await this.$myRuquest({url:"/api/front/movie/getMoreList?page="+this.page+"&pagesize=10&type_id="+this.State,header:{Authorization:"Bearer "+i("ifLogin"),"content-type":"application/json"}});if(200==t){if(t.rows.length<1)return this.loadingType=2,void l();this.list=this.list.concat(t.rows),this.loadingType=0,l()}}},onLoad(t){this.get_type_list(),this.getList(),o("movice_info"),this.show_more=!1;var e=document.getElementsByClassName("uni-page-head-hd")[0];e&&(e.style.display="none")},onShow(){window.scrollTo({top:0,behavior:"smooth"}),this.show_login=!1,i("token")},onPullDownRefresh(){this.page=1,this.list=[],this.getList().then((t=>n()))},onReachBottom(){null!==this.timer&&clearTimeout(this.timer),this.timer=setTimeout((()=>{this.getmorelists()}),1e3)}},[["render",function(t,e,s,i,a,l){const o=d,n=w("cu-custom"),C=v,b=w("Empty");return p(),_(o,null,{default:c((()=>[r(n,{bgColor:"bg-gradual-pink",isBack:!0},{content:c((()=>[u(h(a.top_title),1)])),right:c((()=>[r(o,{class:"cuIcon-more mr-10 f-16",onClick:l.openMore},null,8,["onClick"])])),_:1}),0!==a.list.length?(p(),_(o,{key:0,class:"list_are"},{default:c((()=>[(p(!0),g(m,null,f(a.list,((t,e)=>(p(),_(o,{class:"list_item",key:e,onClick:e=>l.see_detail(t)},{default:c((()=>[r(o,{class:"list_zi"},{default:c((()=>[r(o,{class:"list_img_are"},{default:c((()=>[r(C,{src:t.img,class:"list_zi_img",mode:"widthFix"},null,8,["src"])])),_:2},1024),r(o,{class:"list_foot"},{default:c((()=>[r(o,{class:"m_title"},{default:c((()=>[u(h(t.name),1)])),_:2},1024),r(o,{style:{display:"flex"}},{default:c((()=>[r(o,{class:"cuIcon-cardboardfill l_ft_r",style:{"font-size":"14px"}}),r(o,{class:"l_ft_r"},{default:c((()=>[u(h(t.view_count),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):(p(),_(b,{key:1,noDatatext:"暂无记录",textcolor:"#999"})),y(r(o,{class:"type_more"},{default:c((()=>[r(o,{style:{"padding-top":"50px"}},{default:c((()=>[r(o,{class:"type_tit"},{default:c((()=>[u("热门分类")])),_:1}),r(o,{class:x(["type_zi",{type_get:99==a.index_get}]),onClick:e[0]||(e[0]=t=>l.get_type("",99))},{default:c((()=>[u(" 全部 ")])),_:1},8,["class"]),(p(!0),g(m,null,f(a.type_list,((t,e)=>(p(),_(o,{class:x(["type_zi",{type_get:a.index_get==e}]),key:e,onClick:s=>l.get_type(t,e)},{default:c((()=>[u(h(t.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),r(o,{class:"type_close",onClick:e[1]||(e[1]=t=>a.show_more=!1)},{default:c((()=>[u("关闭")])),_:1})])),_:1},512),[[k,a.show_more]]),y(r(o,null,{default:c((()=>[r(o,{class:"com_bg"}),r(o,{class:"com_main"},{default:c((()=>[r(o,{class:"pop_mian"},{default:c((()=>[r(o,{class:"pop_title"},{default:c((()=>[u("提示")])),_:1}),r(o,{style:{padding:"10px 15px",display:"flex","justify-content":"flex-start","line-height":"25px","flex-wrap":"wrap"}},{default:c((()=>[u(" 您当前可观看浏览视频数量已达到每日限制，观看更多可开通会员，请联系客服 ")])),_:1}),r(o,{class:"pop_foot"},{default:c((()=>[r(o,{class:"pop_ft_btn1",onClick:e[2]||(e[2]=t=>a.pop_notice=!1)},{default:c((()=>[u("关闭")])),_:1}),r(o,{class:"pop_ft_btn2",onClick:e[3]||(e[3]=t=>l.pop_ok())},{default:c((()=>[u("去升级")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512),[[k,a.pop_notice]])])),_:1})}],["__scopeId","data-v-84cfb30d"]]);export{C as default};
